{"ast":null,"code":"var _jsxFileName = \"E:\\\\CustomWallApp\\\\src\\\\Wall.js\";\nimport React from 'react';\nimport { Rnd } from 'react-rnd';\nimport './Wall.css';\nimport ShapeSelector, { getMaskStyle } from './ShapeSelector';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wall = ({\n  wallBg,\n  wallSize,\n  wallRef,\n  images,\n  setImages,\n  selectedImgId,\n  setSelectedImgId,\n  showShapeSelector,\n  setShowShapeSelector\n}) => {\n  // Handle double click to select image\n  const handleSelectImage = imgId => {\n    setSelectedImgId(imgId);\n    setShowShapeSelector(false);\n  };\n\n  // Handle zoom with mouse wheel\n  const handleWheel = (e, imgId) => {\n    if (selectedImgId !== imgId) return;\n    e.preventDefault();\n    setImages(prev => prev.map(img => img.id === imgId ? {\n      ...img,\n      zoom: Math.max(0.5, Math.min(2, img.zoom + (e.deltaY < 0 ? 0.05 : -0.05)))\n    } : img));\n  };\n\n  // Handle shape change\n  const handleShapeChange = shape => {\n    setImages(prev => prev.map(img => img.id === selectedImgId ? {\n      ...img,\n      shape\n    } : img));\n    setShowShapeSelector(false);\n  };\n\n  // Handle zoom change from ShapeSelector (for preview)\n  const handleZoomChange = zoom => {\n    setImages(prev => prev.map(img => img.id === selectedImgId ? {\n      ...img,\n      zoom\n    } : img));\n  };\n\n  // Get selected image object\n  const selectedImg = images.find(img => img.id === selectedImgId);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"custom-wall\",\n      ref: wallRef,\n      style: {\n        backgroundColor: wallBg && wallBg.type === 'color' ? wallBg.value : undefined,\n        backgroundImage: wallBg && wallBg.type !== 'color' ? `url('${wallBg.value}')` : undefined,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        width: wallSize.width + 'px',\n        height: wallSize.height + 'px',\n        position: 'relative',\n        margin: '0 auto',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: [images.map(img => /*#__PURE__*/_jsxDEV(Rnd, {\n        default: {\n          x: img.x,\n          y: img.y,\n          width: img.width,\n          height: img.height\n        },\n        bounds: \"parent\",\n        minWidth: 50,\n        minHeight: 50,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: img.src,\n          alt: \"user-img\",\n          style: {\n            width: `${img.zoom * 100}%`,\n            height: `${img.zoom * 100}%`,\n            objectFit: 'cover',\n            border: selectedImgId === img.id ? '2px solid #2a509c' : '2px solid #000',\n            boxShadow: selectedImgId === img.id ? '0 0 8px #2a509c' : 'none',\n            cursor: 'pointer',\n            transition: 'all 0.2s',\n            ...getMaskStyle(img.shape)\n          },\n          onDoubleClick: () => handleSelectImage(img.id),\n          onWheel: e => handleWheel(e, img.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, img.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)), selectedImg && showShapeSelector && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          left: '50%',\n          top: '50%',\n          transform: 'translate(-50%, -50%)',\n          zIndex: 20,\n          background: '#232526',\n          borderRadius: 12,\n          padding: 24,\n          boxShadow: '0 4px 24px #0008'\n        },\n        children: [/*#__PURE__*/_jsxDEV(ShapeSelector, {\n          image: selectedImg.src,\n          shape: selectedImg.shape,\n          zoom: selectedImg.zoom,\n          onShapeChange: handleShapeChange,\n          onZoomChange: handleZoomChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            marginTop: 16,\n            background: '#2a509c',\n            color: 'white',\n            fontWeight: 'bold',\n            padding: '8px 24px',\n            borderRadius: 6,\n            fontSize: 16\n          },\n          onClick: () => setShowShapeSelector(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_c = Wall;\nexport default Wall;\nvar _c;\n$RefreshReg$(_c, \"Wall\");","map":{"version":3,"names":["React","Rnd","ShapeSelector","getMaskStyle","jsxDEV","_jsxDEV","Wall","wallBg","wallSize","wallRef","images","setImages","selectedImgId","setSelectedImgId","showShapeSelector","setShowShapeSelector","handleSelectImage","imgId","handleWheel","e","preventDefault","prev","map","img","id","zoom","Math","max","min","deltaY","handleShapeChange","shape","handleZoomChange","selectedImg","find","style","display","flexDirection","alignItems","justifyContent","width","children","className","ref","backgroundColor","type","value","undefined","backgroundImage","backgroundSize","backgroundPosition","height","position","margin","default","x","y","bounds","minWidth","minHeight","src","alt","objectFit","border","boxShadow","cursor","transition","onDoubleClick","onWheel","fileName","_jsxFileName","lineNumber","columnNumber","left","top","transform","zIndex","background","borderRadius","padding","image","onShapeChange","onZoomChange","marginTop","color","fontWeight","fontSize","onClick","_c","$RefreshReg$"],"sources":["E:/CustomWallApp/src/Wall.js"],"sourcesContent":["import React from 'react';\r\nimport { Rnd } from 'react-rnd';\r\nimport './Wall.css';\r\nimport ShapeSelector, { getMaskStyle } from './ShapeSelector';\r\n\r\nconst Wall = ({ wallBg, wallSize, wallRef, images, setImages, selectedImgId, setSelectedImgId, showShapeSelector, setShowShapeSelector }) => {\r\n  // Handle double click to select image\r\n  const handleSelectImage = (imgId) => {\r\n    setSelectedImgId(imgId);\r\n    setShowShapeSelector(false);\r\n  };\r\n\r\n  // Handle zoom with mouse wheel\r\n  const handleWheel = (e, imgId) => {\r\n    if (selectedImgId !== imgId) return;\r\n    e.preventDefault();\r\n    setImages((prev) =>\r\n      prev.map((img) =>\r\n        img.id === imgId\r\n          ? { ...img, zoom: Math.max(0.5, Math.min(2, img.zoom + (e.deltaY < 0 ? 0.05 : -0.05))) }\r\n          : img\r\n      )\r\n    );\r\n  };\r\n\r\n  // Handle shape change\r\n  const handleShapeChange = (shape) => {\r\n    setImages((prev) =>\r\n      prev.map((img) =>\r\n        img.id === selectedImgId ? { ...img, shape } : img\r\n      )\r\n    );\r\n    setShowShapeSelector(false);\r\n  };\r\n\r\n  // Handle zoom change from ShapeSelector (for preview)\r\n  const handleZoomChange = (zoom) => {\r\n    setImages((prev) =>\r\n      prev.map((img) =>\r\n        img.id === selectedImgId ? { ...img, zoom } : img\r\n      )\r\n    );\r\n  };\r\n\r\n  // Get selected image object\r\n  const selectedImg = images.find((img) => img.id === selectedImgId);\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', width: '100%' }}>\r\n      {/* Wall preview only */}\r\n      <div\r\n        className=\"custom-wall\"\r\n        ref={wallRef}\r\n        style={{\r\n          backgroundColor: wallBg && wallBg.type === 'color' ? wallBg.value : undefined,\r\n          backgroundImage: wallBg && wallBg.type !== 'color' ? `url('${wallBg.value}')` : undefined,\r\n          backgroundSize: 'cover',\r\n          backgroundPosition: 'center',\r\n          width: wallSize.width + 'px',\r\n          height: wallSize.height + 'px',\r\n          position: 'relative',\r\n          margin: '0 auto',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        {/* Display uploaded image if present */}\r\n        {images.map((img) => (\r\n          <Rnd\r\n            key={img.id}\r\n            default={{\r\n              x: img.x,\r\n              y: img.y,\r\n              width: img.width,\r\n              height: img.height,\r\n            }}\r\n            bounds=\"parent\"\r\n            minWidth={50}\r\n            minHeight={50}\r\n          >\r\n            <img\r\n              src={img.src}\r\n              alt=\"user-img\"\r\n              style={{\r\n                width: `${img.zoom * 100}%`,\r\n                height: `${img.zoom * 100}%`,\r\n                objectFit: 'cover',\r\n                border: selectedImgId === img.id ? '2px solid #2a509c' : '2px solid #000',\r\n                boxShadow: selectedImgId === img.id ? '0 0 8px #2a509c' : 'none',\r\n                cursor: 'pointer',\r\n                transition: 'all 0.2s',\r\n                ...getMaskStyle(img.shape),\r\n              }}\r\n              onDoubleClick={() => handleSelectImage(img.id)}\r\n              onWheel={(e) => handleWheel(e, img.id)}\r\n            />\r\n          </Rnd>\r\n        ))}\r\n        {/* Shape selector popup */}\r\n        {selectedImg && showShapeSelector && (\r\n          <div style={{ position: 'absolute', left: '50%', top: '50%', transform: 'translate(-50%, -50%)', zIndex: 20, background: '#232526', borderRadius: 12, padding: 24, boxShadow: '0 4px 24px #0008' }}>\r\n            <ShapeSelector\r\n              image={selectedImg.src}\r\n              shape={selectedImg.shape}\r\n              zoom={selectedImg.zoom}\r\n              onShapeChange={handleShapeChange}\r\n              onZoomChange={handleZoomChange}\r\n            />\r\n            <button style={{ marginTop: 16, background: '#2a509c', color: 'white', fontWeight: 'bold', padding: '8px 24px', borderRadius: 6, fontSize: 16 }} onClick={() => setShowShapeSelector(false)}>\r\n              Close\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wall;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,QAAQ,WAAW;AAC/B,OAAO,YAAY;AACnB,OAAOC,aAAa,IAAIC,YAAY,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9D,MAAMC,IAAI,GAAGA,CAAC;EAAEC,MAAM;EAAEC,QAAQ;EAAEC,OAAO;EAAEC,MAAM;EAAEC,SAAS;EAAEC,aAAa;EAAEC,gBAAgB;EAAEC,iBAAiB;EAAEC;AAAqB,CAAC,KAAK;EAC3I;EACA,MAAMC,iBAAiB,GAAIC,KAAK,IAAK;IACnCJ,gBAAgB,CAACI,KAAK,CAAC;IACvBF,oBAAoB,CAAC,KAAK,CAAC;EAC7B,CAAC;;EAED;EACA,MAAMG,WAAW,GAAGA,CAACC,CAAC,EAAEF,KAAK,KAAK;IAChC,IAAIL,aAAa,KAAKK,KAAK,EAAE;IAC7BE,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBT,SAAS,CAAEU,IAAI,IACbA,IAAI,CAACC,GAAG,CAAEC,GAAG,IACXA,GAAG,CAACC,EAAE,KAAKP,KAAK,GACZ;MAAE,GAAGM,GAAG;MAAEE,IAAI,EAAEC,IAAI,CAACC,GAAG,CAAC,GAAG,EAAED,IAAI,CAACE,GAAG,CAAC,CAAC,EAAEL,GAAG,CAACE,IAAI,IAAIN,CAAC,CAACU,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC;IAAE,CAAC,GACtFN,GACN,CACF,CAAC;EACH,CAAC;;EAED;EACA,MAAMO,iBAAiB,GAAIC,KAAK,IAAK;IACnCpB,SAAS,CAAEU,IAAI,IACbA,IAAI,CAACC,GAAG,CAAEC,GAAG,IACXA,GAAG,CAACC,EAAE,KAAKZ,aAAa,GAAG;MAAE,GAAGW,GAAG;MAAEQ;IAAM,CAAC,GAAGR,GACjD,CACF,CAAC;IACDR,oBAAoB,CAAC,KAAK,CAAC;EAC7B,CAAC;;EAED;EACA,MAAMiB,gBAAgB,GAAIP,IAAI,IAAK;IACjCd,SAAS,CAAEU,IAAI,IACbA,IAAI,CAACC,GAAG,CAAEC,GAAG,IACXA,GAAG,CAACC,EAAE,KAAKZ,aAAa,GAAG;MAAE,GAAGW,GAAG;MAAEE;IAAK,CAAC,GAAGF,GAChD,CACF,CAAC;EACH,CAAC;;EAED;EACA,MAAMU,WAAW,GAAGvB,MAAM,CAACwB,IAAI,CAAEX,GAAG,IAAKA,GAAG,CAACC,EAAE,KAAKZ,aAAa,CAAC;EAElE,oBACEP,OAAA;IAAK8B,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,aAAa,EAAE,QAAQ;MAAEC,UAAU,EAAE,QAAQ;MAAEC,cAAc,EAAE,QAAQ;MAAEC,KAAK,EAAE;IAAO,CAAE;IAAAC,QAAA,eAEtHpC,OAAA;MACEqC,SAAS,EAAC,aAAa;MACvBC,GAAG,EAAElC,OAAQ;MACb0B,KAAK,EAAE;QACLS,eAAe,EAAErC,MAAM,IAAIA,MAAM,CAACsC,IAAI,KAAK,OAAO,GAAGtC,MAAM,CAACuC,KAAK,GAAGC,SAAS;QAC7EC,eAAe,EAAEzC,MAAM,IAAIA,MAAM,CAACsC,IAAI,KAAK,OAAO,GAAG,QAAQtC,MAAM,CAACuC,KAAK,IAAI,GAAGC,SAAS;QACzFE,cAAc,EAAE,OAAO;QACvBC,kBAAkB,EAAE,QAAQ;QAC5BV,KAAK,EAAEhC,QAAQ,CAACgC,KAAK,GAAG,IAAI;QAC5BW,MAAM,EAAE3C,QAAQ,CAAC2C,MAAM,GAAG,IAAI;QAC9BC,QAAQ,EAAE,UAAU;QACpBC,MAAM,EAAE,QAAQ;QAChBjB,OAAO,EAAE,MAAM;QACfE,UAAU,EAAE,QAAQ;QACpBC,cAAc,EAAE;MAClB,CAAE;MAAAE,QAAA,GAGD/B,MAAM,CAACY,GAAG,CAAEC,GAAG,iBACdlB,OAAA,CAACJ,GAAG;QAEFqD,OAAO,EAAE;UACPC,CAAC,EAAEhC,GAAG,CAACgC,CAAC;UACRC,CAAC,EAAEjC,GAAG,CAACiC,CAAC;UACRhB,KAAK,EAAEjB,GAAG,CAACiB,KAAK;UAChBW,MAAM,EAAE5B,GAAG,CAAC4B;QACd,CAAE;QACFM,MAAM,EAAC,QAAQ;QACfC,QAAQ,EAAE,EAAG;QACbC,SAAS,EAAE,EAAG;QAAAlB,QAAA,eAEdpC,OAAA;UACEuD,GAAG,EAAErC,GAAG,CAACqC,GAAI;UACbC,GAAG,EAAC,UAAU;UACd1B,KAAK,EAAE;YACLK,KAAK,EAAE,GAAGjB,GAAG,CAACE,IAAI,GAAG,GAAG,GAAG;YAC3B0B,MAAM,EAAE,GAAG5B,GAAG,CAACE,IAAI,GAAG,GAAG,GAAG;YAC5BqC,SAAS,EAAE,OAAO;YAClBC,MAAM,EAAEnD,aAAa,KAAKW,GAAG,CAACC,EAAE,GAAG,mBAAmB,GAAG,gBAAgB;YACzEwC,SAAS,EAAEpD,aAAa,KAAKW,GAAG,CAACC,EAAE,GAAG,iBAAiB,GAAG,MAAM;YAChEyC,MAAM,EAAE,SAAS;YACjBC,UAAU,EAAE,UAAU;YACtB,GAAG/D,YAAY,CAACoB,GAAG,CAACQ,KAAK;UAC3B,CAAE;UACFoC,aAAa,EAAEA,CAAA,KAAMnD,iBAAiB,CAACO,GAAG,CAACC,EAAE,CAAE;UAC/C4C,OAAO,EAAGjD,CAAC,IAAKD,WAAW,CAACC,CAAC,EAAEI,GAAG,CAACC,EAAE;QAAE;UAAA6C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxC;MAAC,GA1BGjD,GAAG,CAACC,EAAE;QAAA6C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OA2BR,CACN,CAAC,EAEDvC,WAAW,IAAInB,iBAAiB,iBAC/BT,OAAA;QAAK8B,KAAK,EAAE;UAAEiB,QAAQ,EAAE,UAAU;UAAEqB,IAAI,EAAE,KAAK;UAAEC,GAAG,EAAE,KAAK;UAAEC,SAAS,EAAE,uBAAuB;UAAEC,MAAM,EAAE,EAAE;UAAEC,UAAU,EAAE,SAAS;UAAEC,YAAY,EAAE,EAAE;UAAEC,OAAO,EAAE,EAAE;UAAEf,SAAS,EAAE;QAAmB,CAAE;QAAAvB,QAAA,gBACjMpC,OAAA,CAACH,aAAa;UACZ8E,KAAK,EAAE/C,WAAW,CAAC2B,GAAI;UACvB7B,KAAK,EAAEE,WAAW,CAACF,KAAM;UACzBN,IAAI,EAAEQ,WAAW,CAACR,IAAK;UACvBwD,aAAa,EAAEnD,iBAAkB;UACjCoD,YAAY,EAAElD;QAAiB;UAAAqC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC,CAAC,eACFnE,OAAA;UAAQ8B,KAAK,EAAE;YAAEgD,SAAS,EAAE,EAAE;YAAEN,UAAU,EAAE,SAAS;YAAEO,KAAK,EAAE,OAAO;YAAEC,UAAU,EAAE,MAAM;YAAEN,OAAO,EAAE,UAAU;YAAED,YAAY,EAAE,CAAC;YAAEQ,QAAQ,EAAE;UAAG,CAAE;UAACC,OAAO,EAAEA,CAAA,KAAMxE,oBAAoB,CAAC,KAAK,CAAE;UAAA0B,QAAA,EAAC;QAE7L;UAAA4B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACgB,EAAA,GAhHIlF,IAAI;AAkHV,eAAeA,IAAI;AAAC,IAAAkF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}